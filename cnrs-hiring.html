<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>CNRS - Hiring</title>
    <link href="https://nvd3.org/assets/css/nv.d3.css" rel="stylesheet">
    <script src="https://nvd3.org/assets/lib/d3.v3.js"></script>
    <script src="./nv.d3.js"></script>
</head>

<body>
    
<div id='chart-total'>
    <h2>Évolution de l'ouverture de postes au concours de CR aux CNRS</h2>
    <svg style='height:900px' />
</div>

    
<script  type='text/javascript'> 
d3.json('postes-CR-CNRS.json', function(data) {
  nv.addGraph(function() {
    var chart = nv.models.stackedAreaChart()
                  .margin({right: 100})
                  .x(function(d) { return d[0] }) 
                  .y(function(d) { return d[1] }) 
                  .transitionDuration(500)
                  .showControls(true)
                  .clipEdge(true);

    //Format x-axis labels with custom function.
    chart.xAxis
        .tickFormat(d3.format('d'));

    chart.yAxis
        .tickFormat(d3.format(''));

    d3.select('#chart-total svg')
      .datum(data)
      .call(chart);

    nv.utils.windowResize(chart.update);

    return chart;
  });
})
</script>


<div id='chart-classe1' >
    <h2>Évolution de la création des postes de CR 1ère classe aux CNRS</h2>
    <svg style='height:900px' />
</div>
<script  type='text/javascript'> 
d3.json('postes-CR-CNRS-Classe1.json', function(data) {
  nv.addGraph(function() {
    var chart = nv.models.stackedAreaChart()
                  .margin({right: 100})
                  .x(function(d) { return d[0] }) 
                  .y(function(d) { return d[1] }) 
                  .transitionDuration(500)
                  .showControls(true)
                  .clipEdge(true);

    //Format x-axis labels with custom function.
    chart.xAxis
        .tickFormat(d3.format('d'));

    chart.yAxis
        .tickFormat(d3.format(''));

    d3.select('#chart-classe1 svg')
      .datum(data)
      .call(chart);

    nv.utils.windowResize(chart.update);
    //d3.select('.nv-legendWrap').attr('transform', 'translate(0, -70)');
    return chart;
  });
})
</script>

<div id='chart-classe2'>
    <h2>Évolution de la création des postes de CR 2è classe aux CNRS</h2>
    <svg style='height:900px' />
</div>
<script  type='text/javascript'> 
d3.json('postes-CR-CNRS-Classe2.json', function(data) {
  nv.addGraph(function() {
    var chart = nv.models.stackedAreaChart()
                  .margin({right: 100})
                  .x(function(d) { return d[0] }) 
                  .y(function(d) { return d[1] }) 
                  .transitionDuration(500)
                  .showControls(true)
                  .clipEdge(true);

    //Format x-axis labels with custom function.
    chart.xAxis
        .tickFormat(d3.format('d'));

    chart.yAxis
        .tickFormat(d3.format(''));

    d3.select('#chart-classe2 svg')
      .datum(data)
      .call(chart);

    nv.utils.windowResize(chart.update);

    return chart;
  });
})
</script>

</body>
</html>
